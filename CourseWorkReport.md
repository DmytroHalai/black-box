## **`Зміст звіту`**

1. [`Мета та контекст проєкту`](#1.-мета-та-контекст-проєкту)  
2. [`Обсяг системи та вхідні/вихідні дані`](#2.-обсяг-системи-та-вхідні/вихідні-дані)  
3. [`Архітектура та модулі проєкту`](#3.-архітектура-та-модулі-проєкту)  
    `3.1. Модуль Game (ігрова логіка)`  
    `3.2. Модуль Generator (генерація імплементацій)`  
    `3.3. Модуль Test Runner (запуск тестів по всіх імплементаціях)`  
    `3.4. Модуль Copy Utility (копіювання файлів студенту)`  
    `3.5. Web Application (REST API для генерації та перевірки)`  
4. [`Технологічний стек та вимоги до середовища`](#4.-технологічний-стек-та-вимоги-до-середовища)  
5. [`Організація генерації імплементацій та типові помилки`](#5.-організація-генерації-імплементацій-та-типові-помилки)  
6. [`Організація тестування (юнiт, інтеграційні, E2E, тести студента)`](#6.-організація-тестування-\(юнiт,-e2e,-тести-студента\))  
7. [`Інструкція для студента щодо виконання лабораторної роботи`](#7.-інструкція-для-студента-щодо-виконання-лабораторної-роботи)  
8. [`Документація та супровідні матеріали`](#8.-документація-та-супровідні-матеріали)  
9. [`Висновки та отримані результати`](#9.-висновки-та-отримані-результати)

### [`Дизайн - документ`](https://docs.google.com/document/d/1LeEZU2BxjogaMpGxwLn_61PpB-x6-9sgXx6bySLskqM/edit?tab=t.0)

## **`1. Мета та контекст проєкту`** {#1.-мета-та-контекст-проєкту}

`Метою курсового/лабораторного проєкту «BLACK-BOX» є створення навчальної платформи для відпрацювання вміння писати сильні, «production-like» юніт-тести до чітко заданого чорного ящика (black-box API). Як чорний ящик виступає абстрактний ігровий рушій для гри «Хрестики-Нолики» (GameEngine), для якого існує одна правильна імплементація та велика кількість навмисно «зламаних» реалізацій.`

`З боку автора пакета проєкт надає:`

* `спроєктований інтерфейс і допоміжні типи (BoardView, Move, Result, Player тощо);`  
* `одну коректну реалізацію Engine;`  
* `генератор імплементацій`  
* `тест-раннер, який запускає студентські тести на всі імплементації;`  
* `веб-застосунок для видачі індивідуальних наборів реалізацій та перевірки відповідей.`  
* `консольна утиліта копіювання файлів з 1 проєкту в інший, а саме класів, які перелічені` 

`З боку студента завдання полягає в тому, щоб, спираючись лише на документацію до абстрактного API (GameEngine) та правила гри, написати такий набір тестів, який «відріже» усі помилкові реалізації й пропустить тільки одну правильну. Таким чином, фокус лабораторної роботи переноситься з імплементації бізнес-логіки на якість тестування, проєктування тест-кейсів і вміння мислити через поведінку публічного інтерфейсу.`

`Проєкт супроводжується двома основними репозиторіями:`

* `репозиторій викладача з реалізацією системи — black-box;`  
* `шаблонний репозиторій для студента — black-box-template, куди студент підвантажує згенеровані імплементації та пише свої тести.`

## **`2. Обсяг системи та вхідні/вихідні дані`** {#2.-обсяг-системи-та-вхідні/вихідні-дані}

`Обсяг системи охоплює повний життєвий цикл від генерації реалізацій до аналізу результатів тестування та веб-інтерфейсу для взаємодії зі студентами.`

**`Входи системи:`**

* `код студентських тестів до абстракції GameEngine (JUnit 5);`  
* `набір згенерованих реалізацій рушія Tic-Tac-Toe (Engine0 … Engine999);`  
* `службові конфігурації Maven та Spring Boot;`  
* `HTTP-запити до REST API веб-застосунку для генерації та перевірки.`

**`Виходи системи:`**

* `файл tests_summary.txt у корені проєкту з переліком реалізацій, що пройшли студентські тести;`  
* `лог виконання тест-раннера в консолі;`  
* `JSON-файл сховища студентів (дані про згенеровані набори та перевірки) у веб-модулі;`  
* `архів .zip з індивідуальною пачкою імплементацій, який студент завантажує з REST-ендпоінта /generate/{studentData};`

* `HTTP-відповіді ендпоінтів /check/{studentData}/{num} та адміністративних ендпоінтів /all/*.`

`Для студента фінальним «видимим» результатом є:`

* `єдина коректна імплементація, яка залишилася у tests_summary.txt;`  
* `підтвердження правильності вибору через ендпоінт /check/{studentData}/{correct-impl-number}.`

## **`3. Архітектура та модулі проєкту`** {#3.-архітектура-та-модулі-проєкту}

`Проєкт складається з декількох логічно розділених модулів, які разом утворюють повну навчальну платформу:`

* **`Game`** `— ядро ігрової логіки та абстрактне API;`  
* **`Generator of implementations`** `— модуль генерації мутованих реалізацій рушія;`  
* **`Test Runner`** `— модуль, який запускає тести по всіх згенерованих реалізаціях;`  
* **`Copy Utility`** `— утиліта для копіювання потрібних файлів у студентський репозиторій;`  
* **`Web Application`** `— Spring Boot-застосунок з REST API для генерації/перевірки та зберігання даних студентів;`  
* **`Tests`** `— набір юніт-, інтеграційних та end-to-end тестів до ключових компонентів системи.`

### **`3.1. Модуль Game (ігрова логіка)`** {#3.1.-модуль-game-(ігрова-логіка)}

`Модуль Game розташований у src/main/java/org/example/logic та визначає публічне API, з яким працюють як студент, так і всі імплементації рушія.`

`Ключові елементи:`

* `GameEngine (пакет logic.api) — абстрактний базовий клас, який описує повний контракт гри: ініціалізація, валідація ходів, зміна станів, виявлення перемоги/нічиєї, отримання представлення дошки.`

* `Допоміжні типи:`  
  * `BoardView, View, BoardState — інтерфейси та реалізації, що надають зручне read-only представлення дошки 3×3;`  
  * `Move — іммутабельний запис, який інкапсулює координати ходу та гравця;`  
  * `Player — перелік гравців X та O з методом перемикання;`  
  * `Result — перелік можливих підсумкових станів гри (ongoing, X wins, O wins, draw);`  
  * `IllegalMoveException — виняток для некоректних ходів.`  
* `Engine (у корені src/main/java/org/example) — еталонна коректна реалізація рушія, побудована строго згідно з контрактом GameEngine.`

`Студент має доступ до всього модуля Game та його документації, але не повинен змінювати код гри. Тести пишуться до абстракції GameEngine, а не до конкретного класу Engine, що забезпечує чистий black-box підхід.`

### **`3.2. Модуль Generator (генерація імплементацій)`** {#3.2.-модуль-generator-(генерація-імплементацій)}

`Модуль Generator відповідає за створення 1000 реалізацій рушія, серед яких лише одна еквівалентна еталонному Engine.`

`Основні компоненти:`

* `BugLibrary — описує набір доступних шаблонів помилок (зміна перевірки перемоги, некоректна обробка нічиєї, порушення черговості ходів тощо);`  
* `BugMutation — інтерфейс для окремої мутації коду;`  
* `BugRegistry — реєстр усіх доступних мутацій;`  
* `Generator — клас, який за допомогою JavaParser аналізує вихідний код Engine та будує на його основі нові файли з навмисно внесеними дефектами.`

`При генерації гарантується, що:`

* `імплементації не дублюються;`  
* `мутації не «гасить» одна одну випадковим чином;`  
* `у підсумку існує рівно одна коректна реалізація серед 1000 файлів.`

`Генерація виконується командою Maven:`

* `mvn exec:java@generate — створює 1000 імплементацій у сконфігурованій вихідній директорії.`

### **`3.3. Модуль Test Runner (запуск тестів по всіх імплементаціях)`** {#3.3.-модуль-test-runner-(запуск-тестів-по-всіх-імплементаціях)}

`Test Runner — це модуль, який бере студентський клас тестів GameEngineTest і послідовно проганяє його проти кожної з 1000 реалізацій рушія.`

`Ключові моменти роботи:`

* `студенти пишуть тести у файлі src/test/java/org/example/logic/api/GameEngineTest.java (у шаблонному репозиторії);`  
* `раннер підміняє конкретну реалізацію, але зберігає однаковий інтерфейс GameEngine;`  
* `для кожної реалізації фіксується результат проходження тестів;`  
* `за підсумком формується файл tests_summary.txt у корені проєкту з переліком класів, які пройшли всі тести.`

`Команди для запуску:`

* `mvn test-compile && mvn exec:java@run-tests — компіляція тестів і запуск тест-раннера над усіма імплементаціями;`  
* `mvn exec:java@run-tests — запуск раннера, якщо тести вже скомпільовано.`

`Задача студента — досягти ситуації, коли в tests_summary.txt залишається лише одна реалізація (єдина правильна).`

### **`3.4. Модуль Copy Utility (копіювання файлів студенту)`** {#3.4.-модуль-copy-utility-(копіювання-файлів-студенту)}

`Copy Utility — це допоміжна утиліта, яка дозволяє швидко підготувати шаблонний студентський проєкт, копіюючи туди необхідні файли з основного репозиторію.`

`Функціональність:`

* `копіювання ігрової логіки;`  
* `копіювання тест-раннера та базового класу тестів;`  
* `копіювання pom.xml і README.md студентських;`  
* `автоматичне вилучення секцій, оточених коментарями:`

`//begin of private`

`...`

`//end of private`

`Це гарантує, що внутрішні референсні тести та службова логіка викладача не потрапляють до студентського репозиторію.`

`Запуск:`

* `mvn exec:java@copy -DtargetPath=/absolute/path/to/student/project`  
  `де targetPath — абсолютний шлях до кореня студентського проєкту.`

### **`3.5. Web Application (REST API для генерації та перевірки)`** {#3.5.-web-application-(rest-api-для-генерації-та-перевірки)}

`Web-застосунок реалізовано на Spring Boot і надає REST API для:`

* `генерації індивідуальних наборів імплементацій;`  
* `збереження інформації про студентів та їх перевірки;`  
* `адміністративного перегляду статистики.`

`Основні ендпоінти (AppController):`

* `/generate/{studentData} — генерує .zip-архів з 1000 імплементацій для конкретного студента, зберігає його дані та повертає архів у відповіді;`  
* `/check/{studentData}/{num} — перевіряє, чи співпадає обраний номер імплементації з правильним, і логіює спробу;`  
* `/all/active/admin — повертає список студентів, які зробили хоча б одну перевірку;`  
* `/all/solved/admin — повертає студентів, які успішно знайшли правильну імплементацію;`  
* `/all/admin — повертає всіх студентів, яким було видано імплементації.`

`Дані зберігаються в JSON-файлі, який створюється автоматично під час запуску застосунку. Для цього реалізовано:`

* `JsonRepo — файлове JSON-сховище;`  
* `StudentRepo — сервіс-обгортка над файловим сховищем;`  
* `моделі Student, CheckResult, ImplementationBatch для опису структур даних.`

`Запуск веб-застосунку локально:`

* `mvn spring-boot:run`  
* `за замовчуванням API доступний за адресою http://localhost:8080.`

## **`4. Технологічний стек та вимоги до середовища`** {#4.-технологічний-стек-та-вимоги-до-середовища}

`Проєкт побудовано на такому стеку:`

* `Java / JDK 21+;`  
* `Maven 3.9+;`  
* `Spring Boot (REST API, веб-модуль);`  
* `JUnit 5;`  
* `Mockito;`  
* `JSON-файл як проста база даних для веб-застосунку.`

`Для локального запуску необхідно:`

* `встановити JDK 21+ і переконатися, що java та mvn доступні з командного рядка;`  
* `клонувати репозиторій;`  
* `виконати базову команду mvn clean install для збірки та запуску E2E-тесту генератора/раннера.`

## **`5. Організація генерації імплементацій та типові помилки`** {#5.-організація-генерації-імплементацій-та-типові-помилки}

`Генератор імплементацій автоматично створює 1000 варіантів класу рушія гри. Для аналізу й модифікації коду використовується JavaParser: вихідний код еталонного Engine розбирається в абстрактне синтаксичне дерево, після чого до нього застосовуються зареєстровані мутації з BugLibrary.`

`Типові класи помилок, які може вносити генератор:`

* `некоректна перевірка переможних ліній (не всі лінії враховано, помилкові індекси);`  
* `неправильне визначення нічиєї (гра завершується надто рано або надто пізно);`  
* `порушення черговості гравців (два ходи підряд одним гравцем);`  
* `помилки валідації ходів (дозволяється хід у зайняту клітинку тощо);`  
* `помилки в оновленні внутрішнього стану дошки.`

`Завдяки цьому студент має справу не з абстрактними «мутаціями», а з реалістичними дефектами, подібними до тих, що трапляються в живому комерційному коді.`

## **`6. Організація тестування (юнiт, E2E, тести студента)`** {#6.-організація-тестування-(юнiт,-e2e,-тести-студента)}

`Тестування в проєкті має декілька рівнів:`

1. **`Юніт-тести`** `— перевіряють окремі компоненти:`  
   * `логіку гри (модуль Game);`  
   * `генератор (модуль Generator);`  
   * `тест-раннер (коректність обробки результатів).`

2. **`End-to-end (E2E) тест`** `— сценарій «під ключ»:`  
   * `згенерувати 1000 імплементацій у тимчасовій директорії;`  
   * `запустити тест-раннер з референтним набором тестів;`  
   * `переконатися, що правильною є рівно одна імплементація та що всі стратегії мутацій відпрацьовують очікуваним чином.`

`Окремо виділяється рівень тестування студента:`

* `студент працює з шаблонним репозиторієм black-box-template;`  
* `вносить тести лише до GameEngineTest;`  
* `не змінює й не «підлаштовує» код гри або тест-раннера;`  
* `тест-раннер автоматично запускає написані тести на всі імплементації й формує tests_summary.txt.`

`Таким чином студент тренує:`

* `читання й інтерпретацію Javadoc/контрактів;`  
* `проєктування тестів на основі поведінки, а не внутрішньої реалізації;`  
* `виявлення прихованих дефектів через грамотно підібрані сценарії.`

## **`7. Інструкція для студента щодо виконання лабораторної роботи`** {#7.-інструкція-для-студента-щодо-виконання-лабораторної-роботи}

`Нижче наведено узагальнені кроки виконання лабораторної роботи з точки зору студента.`

### **`Етап 1. Клонувати шаблонний репозиторій`**

1. `Склонуйте репозиторій black-box-template за допомогою команди git clone.`  
2. `Переконайтеся, що на вашому пристрої встановлено:`  
   * `Java / JDK 21+;`  
   * `Maven;`  
   * `Git.`  
3. `Перейдіть у директорію проєкту та виконайте базову збірку mvn clean install, щоб перевірити, що все компілюється.`

### **`Етап 2. Отримати й завантажити власні імплементації`**

1. `Відкрийте веб-застосунок викладача та зверніться до ендпоінта /generate/{given_string}, де {given_string} — ваш унікальний ідентифікатор.`  
2. `У відповідь ви отримаєте .zip-архів із 1000 імплементацій рушія:`  
   * `999 неправильних;`  
   * `1 правильна.`  
3. `Розпакуйте архів у директорію src/main/java/org/example/impl вашого студентського проєкту так, щоб у папці impl опинилися всі .java-файли реалізацій.`

### **`Етап 3. Написати тести й знайти правильну імплементацію`**

1. `Відкрийте файл src/test/java/org/example/logic/api/GameEngineTest.java.`  
2. `Спираючись на документацію до GameEngine та правила гри, реалізуйте набір тестів, які повинні:`  
   * `виявляти всі можливі дефекти в реалізаціях;`  
   * `залишати «живою» лише правильну імплементацію.`  
3. `Не змінюйте код гри, генератора, раннера та інші службові класи — це може зламати процес перевірки.`  
4. `Запустіть тести на всі імплементації:`  
   * `mvn test-compile;`  
   * `(або, якщо використовується окремий раннер) mvn test-compile && mvn exec:java@run-tests.`  
5. `Перевірте в корені проєкту файл tests_summary.txt:`  
   * `якщо в ньому вказана лише одна реалізація — ви знайшли правильну;`  
   * `якщо реалізацій декілька — допрацюйте тестовий набір.`

### **`Перевірка результату викладачем`**

1. `Перейдіть за посиланням /check/{your-given-string}/{correct-impl-number} (через веб-застосунок викладача).`  
2. `Система зафіксує вашу перевірку в JSON-базі та повідомить, чи збігається обраний номер з еталонним.`

## **`8. Документація та супровідні матеріали`** {#8.-документація-та-супровідні-матеріали}

`Документація до проєкту складається з кількох шарів:`

1. **`Внутрішня документація коду`**  
   * `Javadoc до публічних методів і класів модуля Game;`  
   * `коментарі в коді щодо поведінки методів та контрактів.`  
2. **`README.md у репозиторії black-box`**  
   * `опис мети проєкту;`  
   * `огляд архітектури та модулів;`  
   * `інструкції швидкого запуску (Quick start);`  
   * `опис Maven-команд для генерації, запуску тестів, копіювання файлів;`  
   * `опис REST-ендпоінтів веб-застосунку та структури JSON-сховища.`  
3. **`Інструкція/вимоги до лабораторної роботи (окремий PDF)`**  
   * `пояснення суті завдання для студента;`  
   * `детальні кроки виконання лабораторної;`  
   * `вимоги до оформлення та критерії оцінювання.`  
4. **`Шаблонний репозиторій black-box-template`**  
   * `мінімальний проєкт із підготовленою структурою, куди студент лише додає імплементації та тести;`  
   * `полегшує старт роботи й зменшує кількість технічних помилок, не пов’язаних із тестуванням.`

`За потреби можуть надаватися архіви з проєктами у форматі .zip, а також додаткові приклади реалізації лабораторної.`

## **`9. Висновки та отримані результати`** {#9.-висновки-та-отримані-результати}

`У результаті реалізації проєкту «BLACK-BOX» створено повноцінну навчальну платформу для відпрацювання навичок тестування:`

* `спроєктовано абстрактний рушій гри «Хрестики-Нолики» з чітко задокументованим контрактом;`  
* `реалізовано еталонну імплементацію гри та генератор 1000 мутованих реалізацій з типовими помилками;`  
* `створено тест-раннер, що запускає студентські тести по всіх реалізаціях та формує підсумковий звіт;`  
* `розроблено веб-застосунок для генерації індивідуальних наборів імплементацій, зберігання даних студентів та перевірки відповідей;`  
* `підготовлено супровідну документацію (README, дизайн-документ, інструкції до лабораторної роботи, шаблонний репозиторій).`

`Для студента цей проєкт дозволяє на практиці:`

* `потренуватися писати тест-кейси, орієнтуючись лише на поведінковий контракт;`  
* `навчитися мислити з позиції якості тестування, а не лише написання коду;`  
* `зрозуміти принципи black-box тестування та роботу з мутаційними дефектами в умовах, максимально наближених до реальної розробки.`

`Таким чином, поставлена на початку мета — надати студенту навчальний пакет із чорним ящиком та множиною реалізацій, серед яких потрібно знайти єдину правильну через тести, — досягається повністю.`